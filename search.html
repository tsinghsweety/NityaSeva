<?php
require 'dbConnect.php';
session_start(); //starts the session
?>
<!DOCTYPE html>
<html>
    <head>
      <title>Search User</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
<!--      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
<!--      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>-->
<!--      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <link rel="stylesheet" href="css/getMemberList.css">
    </head>
    <body>
      <a href="dashboard.php"><span class="glyphicon glyphicon-home"></span></a><br/><br/>
      <h2>Member List</h2>
      <?php require 'logout_modal.php';
      ?>
      <form action="getMemberList.php" method="POST">
       <div class="container-fluid">
        <div class="form-group">
            <div class="col-md-2"><label for="sel1_pt">Search By:</label></div>
              <script type="text/javascript">
                function configureDropDownLists(ddl1,ddl2) {
                var donation_category = ['Prabhupada Sevak', 'Jagannath Sevak', 'Govind Sevak'];
                var is_active = ['Y', 'N'];
                var is_due = ['Y', 'N'];
                var cp = ['Y', 'N'];
                var corresponder = ['Prashant', 'HG Sevyagovind Pr','Devajyoti'];
                var connected_to = ['BV1', 'BV2','BV3', 'BV4','BV5', 'BV6','BV7', 'BV8','Nitai'];

                switch (ddl1.value) {
                    case 'Donation Category':
                        ddl2.options.length = 0;
                        for (i = 0; i < donation_category.length; i++) {
                            createOption(ddl2, donation_category[i], donation_category[i], "scheme_name");
                        }
                        break;
                    case 'Active':
                        ddl2.options.length = 0;
                    for (i = 0; i < is_active.length; i++) {
                        createOption(ddl2, is_active[i], is_active[i], "is_active");
                        }
                        break;
                    case 'Payment Due':
                        ddl2.options.length = 0;
                        for (i = 0; i < is_due.length; i++) {
                            createOption(ddl2, is_due[i], is_due[i], "is_due");
                        }
                        break;
                    case 'Monthly(Current) Payment Done':
                        ddl2.options.length = 0;
                        for (i = 0; i < cp.length; i++) {
                            createOption(ddl2, cp[i], cp[i], "cp");
                        }
                        break;
                    case 'Corresponder':
                        ddl2.options.length = 0;
                    for (i = 0; i < corresponder.length; i++) {
                        createOption(ddl2, corresponder[i], corresponder[i], "corresponder");
                        }
                        break;
                    case 'Connected To':
                        ddl2.options.length = 0;
                    for (i = 0; i < connected_to.length; i++) {
                        createOption(ddl2, connected_to[i], connected_to[i], "connected_to");
                        }
                        break;
                        default:
                            ddl2.options.length = 0;
                        break;
                }}
                function createOption(ddl, text, value,name) {
                    var opt = document.createElement('option');
                    opt.value = value;
                    opt.text = text;ddl.options.add(opt);
                    document.getElementsByTagName("select")[1].setAttribute("name", name);
//                    alert(name);
                }
              </script>
        <div class="col-md-2">
        <select id="ddl" onchange="configureDropDownLists(this,document.getElementById('ddl2'))">
        <option value="" selected>Select</option>
        <option value="Donation Category" name="scheme_name">Donation Category</option>
        <option value="Active" name="is_active">Active</option>
        <option value="Payment Due" name="is_due">Payment Due</option>
        <option value="Monthly(Current) Payment Done" name="cp">Current Payment Done</option>
        <option value="Corresponder" name="corresponder">Corresponder</option>
        <option value="Connected To" name="connected_to">Connected To</option>
        </select>
        </div>
        <div class="col-md-2">
        <select id="ddl2">
        </select></div>
        </div>
       </div>
       <button type="submit" name="pmt_button" id="pmt_button" class="btn btn-primary">Get List</button>
      </form>
    </body>
</html>
